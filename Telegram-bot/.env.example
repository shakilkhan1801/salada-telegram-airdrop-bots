# ╔══════════════════════════════════════════════════════════════════════════╗
# ║                    TELEGRAM AIRDROP BOT CONFIGURATION                     ║
# ╠══════════════════════════════════════════════════════════════════════════╣
# ║ Professional Production-Ready Configuration                               ║
# ║ Version: 1.0.0 | Last Updated: September 2025                            ║
# ╚══════════════════════════════════════════════════════════════════════════╝

# ┌──────────────────────────────────────────────────────────────────────────┐
# │                        🤖 BOT CREDENTIALS                                 │
# └──────────────────────────────────────────────────────────────────────────┘
# Bot token from @BotFather (REQUIRED)
BOT_TOKEN=8473317188:AAEkVOLtkAUkE8eVOm98MWxfxDuEGuAUHLA

# Bot Identity
BOT_NAME=Salada Airdrop Bot
BOT_USERNAME=salada_airdropbot

# ┌──────────────────────────────────────────────────────────────────────────┐
# │                       🛡️ SECURITY & AUTH                                  │
# └──────────────────────────────────────────────────────────────────────────┘
# Admin Configuration
ADMIN_USER_IDS=1064587081
ADMIN_CHAT_ID=1064587081
ADMIN_TELEGRAM_ID=1064587081

# Security Keys (Keep these secret!)
ADMIN_KEY=airdrop_bot_pro_secure_key_2025_long_key_01
ADMIN_JWT_SECRET=633de11888b560bb03920e7496a2dde1b14bb4dc0a719523ec7e0b64e47de098
REFRESH_TOKEN_SECRET=349cbb90d6df7176d3ba6de027e49f141c7aaf0f492da118444e9fb2927ab24a

# JWT Token Configuration
JWT_EXPIRES_IN=24h
REFRESH_TOKEN_EXPIRES_IN=7d

# ┌──────────────────────────────────────────────────────────────────────────┐
# │                       🌐 ENVIRONMENT CONFIG                               │
# └──────────────────────────────────────────────────────────────────────────┘
# Application Environment
NODE_ENV=production #production #development
#DEBUG_MODE=false
VERBOSE_LOGGING=false  #ফাইলে যা লগ হবে (debug, info, warn, error, silent)
LOG_LEVEL=debug  #টার্মিনালে যা প্রিন্ট হবে (debug, info, warn, error, silent)
LOG_CONSOLE_LEVEL=debug
LOG_FILE_ENABLED=true
LOG_FILE_PATH=./logs

# Bot Status Control
BOT_STATUS=true
MAINTENANCE_MODE=false

# Maintenance Mode Configuration
MAINTENANCE_DURATION=15-30 minutes
MAINTENANCE_REASON=System improvements and bug fixes
# MAINTENANCE_MESSAGE=Custom HTML message (optional)

# Bot Offline Configuration
BOT_OFFLINE_REASON=Administrative maintenance
# BOT_OFFLINE_MESSAGE=Custom HTML message (optional)

# Support Configuration
SUPPORT_USERNAME=support

# ┌──────────────────────────────────────────────────────────────────────────┐
# │                         📍 URLs & DOMAINS                                 │
# └──────────────────────────────────────────────────────────────────────────┘
# Production URLs
DOMAIN=bot.gamelabs.space
PUBLIC_URL=https://bot.gamelabs.space
MINIAPP_URL_PROD=https://bot.gamelabs.space
MINIAPP_CAPTCHA_URL=https://bot.gamelabs.space
FRONTEND_URL=https://app.salada.fun
ADMIN_PANEL_URL=https://bot.gamelabs.space

# Webhook Configuration
WEBHOOK_URL=https://bot.gamelabs.space/webhook
USE_WEBHOOK=true

# Development URLs (Optional)
NGROK_URL=
MINIAPP_URL_DEV=

# ┌──────────────────────────────────────────────────────────────────────────┐
# │                          🚪 PORT SETTINGS                                 │
# └──────────────────────────────────────────────────────────────────────────┘
MINIAPP_PORT=3001
ADMIN_PORT=3002
API_SERVER_PORT=3001
WEBHOOK_PORT=8443

# Server Configuration
HOST=0.0.0.0
SERVER_TIMEOUT=30000
KEEP_ALIVE_TIMEOUT=5000
TRUST_PROXY=true

# CORS Settings - Updated to include VPS access and admin panel
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:3002,https://bot.gamelabs.space,http://127.0.0.1:3002,http://0.0.0.0:3002

# Rate Limiting Configuration
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# Admin Panel Security Configuration
ADMIN_JWT_EXPIRES_IN=24h
JWT_ADMIN_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

TELEGRAM_KEEPALIVE_INTERVAL_MS=300000    # ✅ Default 5 min
TELEGRAM_KEEPALIVE_MSECS=60000           # ✅ Default 60s
TELEGRAM_KEEPALIVE_MAX_SOCKETS=64        # ✅ Default 64

# ┌──────────────────────────────────────────────────────────────────────────┐
# │                       💾 DATABASE CONFIG                                  │
# └──────────────────────────────────────────────────────────────────────────┘
# Data Source Selection
DATA_SOURCE=mongodb

# MongoDB Atlas Configuration
#MONGODB_URL=mongodb+srv://earnbuzz365:feRz3ez5opqx3aYu@cluster0.km5mycq.mongodb.net/?retryWrites=true&w=majority&appName=Cluster0
#MONGODB_HOST=cluster0.km5mycq.mongodb.net
#MONGODB_PORT=27017
#MONGODB_DATABASE=telegram_airdrop_bot
#MONGODB_USERNAME=earnbuzz365
#MONGODB_PASSWORD=feRz3ez5opqx3aYu

# MongoDB Configuration (Self Host)
MONGODB_URL=mongodb://earnbuzz365:feRz3ez5opqx3aYu@5.189.150.248:27017/Bot_database?authSource=admin
MONGODB_HOST=5.189.150.248
MONGODB_PORT=27017
MONGODB_DATABASE=Bot_database
MONGODB_USERNAME=earnbuzz365
MONGODB_PASSWORD=feRz3ez5opqx3aYu


# File Storage Configuration (Alternative)
FILE_DB_PATH=./data
FILE_BATCH_SIZE=1000

# ┌──────────────────────────────────────────────────────────────────────────┐
# │                        📺 TELEGRAM CHANNELS                               │
# └──────────────────────────────────────────────────────────────────────────┘
# Enable/disable channel join requirement
WITHDRAW_REQUIRE_CHANNEL_JOIN=true  # true করুন enable করার জন্য
REQUIRED_CHANNEL_ID=@salada_protocol
WITHDRAW_ALERT_CHANNEL_ID=@salada_tracker
SUPPORT_USERNAME=salada_protocol

# ┌──────────────────────────────────────────────────────────────────────────┐
# │                        📋 TASK CONFIGURATION                              │
# └──────────────────────────────────────────────────────────────────────────┘
# DEPRECATED: AUTO_APPROVE_SUBMISSIONS is now managed per-task from Admin Panel
# AUTO_APPROVE_SUBMISSIONS=true

TASK_TELEGRAM_CHANNEL=https://t.me/salada_protocol
TASK_TELEGRAM_CHANNEL_ID=@salada_protocol
TASK_TWITTER_PROFILE=https://x.com/salada_protocol
TASK_TWITTER_TWEET=https://x.com/salada_protocol/status/1975862171562299677
TASK_INSTAGRAM_PROFILE=https://www.instagram.com/salada_protocol_?igsh=Y2k1MjR4ZTRsdWwx

# Special Tweet Task Configuration (task_07)
# Users will write review tweets with these hashtags: #SALA #SALADA
TASK_SPECIAL_TWEET_HASHTAGS=SALA,SALADA

# REMOVED: Medium task has been replaced with Special Tweet Review task
# TASK_MEDIUM_PROFILE=https://medium.com/@yourprofile
TASK_YOUTUBE_CHANNEL=https://youtube.com/@yourchannel

DAILY_TASK_RESET_INTERVAL=24h # Default: 24h (daily)
# Daily Task Reset Interval
# - Minutes: 1m, 5m, 30m
# - Hours: 1h, 6h, 24h  
# - Days: 1d, 7d, 30d, etc.

# ┌──────────────────────────────────────────────────────────────────────────┐
# │                        🎁 POINTS & REWARDS                                │
# └──────────────────────────────────────────────────────────────────────────┘
MIN_WITHDRAW_POINTS=50
POINTS_TO_TOKEN_CONVERSION_RATE=1
POINTS_CHANNEL_JOIN=30
POINTS_TWITTER_FOLLOW=30
POINTS_RETWEET=30
POINTS_PER_MONTH=0
POINTS_PER_REFERRAL=15

# Referral System Configuration
REFERRAL_BONUS=15                      # Points awarded to referrer for each successful referral
REFERRAL_WELCOME_BONUS=7                # Points awarded to new user who joins via referral
REFERRAL_WELCOME_BONUS_ENABLED=true     # Enable/disable welcome bonus for referred users (true/false)

REFERRAL_CODE_LENGTH=8
REFERRAL_TASK_THRESHOLD=3
POINTS_PREMIUM_MEMBER=150
CAPTCHA_REWARD=0

# Wallet Connect Reward
# Points awarded when a user connects a wallet (used by config as WALLET_CONNECTION_BONUS)
WALLET_CONNECTION_BONUS=0
# Maximum times a user can receive the wallet connection reward
# Set to 1 for first-time-only reward, or higher to allow multiple rewards
WALLET_CONNECTION_BONUS_MAX_COUNT=0

# ┌──────────────────────────────────────────────────────────────────────────┐
# │                        💱 TRANSFER SYSTEM                                  │
# └──────────────────────────────────────────────────────────────────────────┘
TRANSFER_ENABLED=true
TRANSFER_MIN_POINTS=100
TRANSFER_MAX_POINTS=1000
TRANSFER_MAX_DAILY_POINTS=1000
TRANSFER_FEE_PERCENTAGE=10
TRANSFER_DAILY_LIMIT=1
TRANSFER_REQUIRE_CONFIRMATION=true

# ┌──────────────────────────────────────────────────────────────────────────┐
# │                      ⛓️ BLOCKCHAIN CONFIG                                 │
# └──────────────────────────────────────────────────────────────────────────┘
# WalletConnect
WALLETCONNECT_PROJECT_ID=4e3b666d78e65e6035578668069a862b
WALLETCONNECT_APPROVAL_TIMEOUT_MS=300000
WALLETCONNECT_CONNECTION_EXPIRY_MS=600000
WALLETCONNECT_MAX_RETRY_ATTEMPTS=3
WALLETCONNECT_RETRY_DELAY_MS=1000

# Network
CHAIN_ID=8453
RPC_URL=https://mainnet.base.org
EXPLORER_URL=https://basescan.org/tx/

# Contracts & Wallet
TOKEN_CONTRACT_ADDRESS=0x218bd1422E45cC81Affb8ba407cD8ec0AE721b9E
CLAIM_CONTRACT_ADDRESS=0x2Bb117b044dE375e417f088bF47F63Dd30aaaa53
WALLET_PRIVATE_KEY=ee9168abbb36b09d6b7ef400a85ca3e68d43a1036e932d114982c4424dc414aa

# Token Info
TOKEN_SYMBOL=SALA
TOKEN_DECIMALS=18

# Claim/Withdraw
WITHDRAW_MODE=claim
CLAIM_FUNCTION_SIGNATURE=function claim(uint256 amount, uint256 nonce, bytes signature)
CLAIM_ARGS_TEMPLATE=amount,nonce,signature
WITHDRAW_CONFIRMATIONS=1

# ┌──────────────────────────────────────────────────────────────────────────┐
# │                       👛 WALLET SUPPORT                                   │
# └──────────────────────────────────────────────────────────────────────────┘
SHOW_METAMASK_WALLET=true
SHOW_TRUST_WALLET=true
SHOW_COINBASE_WALLET=true
SHOW_BITGET_WALLET=true
SHOW_RAINBOW_WALLET=false
SHOW_PHANTOM_WALLET=false
SHOW_EXODUS_WALLET=false
SHOW_ATOMIC_WALLET=false
SHOW_SAFEPAL_WALLET=false
SHOW_TOKENPOCKET_WALLET=false

# QR Code
QR_CODE_EXPIRY_TIME=10
DAILY_QR_LIMIT=3

# ┌──────────────────────────────────────────────────────────────────────────┐
# │                       🔒 CAPTCHA SYSTEM                                   │
# └──────────────────────────────────────────────────────────────────────────┘
MINIAPP_CAPTCHA_ENABLED=true
SVG_CAPTCHA_ENABLED=false
REQUIRE_AT_LEAST_ONE_CAPTCHA=false
CAPTCHA_FOR_EXISTING_USERS=false
CAPTCHA_TIMEOUT_MINUTES=5
CAPTCHA_MAX_ATTEMPTS=3
CAPTCHA_SESSION_EXPIRY_MINUTES=5
# ┌──────────────────────────────────────────────────────────────────────────┐
# │                    🔐 DEVICE FINGERPRINTING                               │
# └──────────────────────────────────────────────────────────────────────────┘
FINGERPRINT_SALT=630a0ebc19ee24a0657c4d3f58421b8c4bedc421c38e5dcf0636692f427d793b
FINGERPRINT_ENCRYPTION_KEY=d22de6093f30b843d817151cdfd2c409c84904959f11f7475773293a03ad50f2

# ┌──────────────────────────────────────────────────────────────────────────┐
# │                       🔔 NOTIFICATION SYSTEM                              │
# └──────────────────────────────────────────────────────────────────────────┘
SLACK_WEBHOOK_URL=
SLACK_CHANNEL=#alerts
SLACK_USERNAME=Airdrop Bot
DISCORD_WEBHOOK_URL=

# ┌──────────────────────────────────────────────────────────────────────────┐
# │                        📝 LOGGING CONFIG                                  │
# └──────────────────────────────────────────────────────────────────────────┘
# ফাইল লগিং চালু/বন্ধ করুন (true/false)
# প্রোডাকশনে true রাখুন, লগ ফাইল Admin Panel থেকে দেখতে পারবেন
LOG_FILE_ENABLED=true
LOG_FILE_PATH=./logs
LOG_ROTATION_DAYS=7

# ┌──────────────────────────────────────────────────────────────────────────┐
# │                        📊 DATA EXPORT                                     │
# └──────────────────────────────────────────────────────────────────────────┘
ENABLE_USER_DATA_EXPORT=true
USER_DATA_EXPORT_INTERVAL=12h
USER_DATA_EXPORT_RUN_ON_START=false
# Export interval format options:
# - Minutes: 1m, 5m, 30m
# - Hours: 1h, 6h, 24h  
# - Exact time: 14:30 (daily at 2:30 PM)

# ┌──────────────────────────────────────────────────────────────────────────┐
# │                       🚀 FEATURE FLAGS                                    │
# └──────────────────────────────────────────────────────────────────────────┘
FEATURE_ADVANCED_ANALYTICS=false
FEATURE_REAL_TIME_NOTIFICATIONS=false
FEATURE_API_RATE_LIMITING=true
FEATURE_AUDIT_LOGGING=true
FEATURE_BACKGROUND_JOBS=true
FEATURE_WEBHOOK_SUPPORT=true
FEATURE_MULTI_LANGUAGE=false
FEATURE_TWO_FACTOR_AUTH=false

# ┌──────────────────────────────────────────────────────────────────────────┐
# │                      ⚡ PERFORMANCE CONFIG                                │
# └──────────────────────────────────────────────────────────────────────────┘
MEMORY_LIMIT_MB=51000
CACHE_TTL_SECONDS=3600
WORKER_THREADS=4
CLEANUP_INTERVAL_MS=300000
ENABLE_CACHING=true
ENABLE_COMPRESSION=true
ENABLE_ETAG=true

# ┌──────────────────────────────────────────────────────────────────────────┐
# │                      🔧 ADDITIONAL CONFIG                                 │
# └──────────────────────────────────────────────────────────────────────────┘
# Backup
ENABLE_AUTO_BACKUP=false

# Session Security
SESSION_SECRET=generate_secure_32_char_session_secret_here
CSRF_SECRET=generate_secure_32_char_csrf_secret_here
ENCRYPTION_KEY=generate_secure_32_char_encryption_key_here

# Password Security
PASSWORD_SALT_ROUNDS=12
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION_MINUTES=15

# ┌──────────────────────────────────────────────────────────────────────────┐
# │                      🚨 SPAM PROTECTION                                   │
# └──────────────────────────────────────────────────────────────────────────┘
SPAM_WINDOW_MS=60000
SPAM_WARN_THRESHOLD=5
SPAM_FREEZE_THRESHOLD=8
SPAM_FREEZE_MINUTES=10
SPAM_WARNING_COOLDOWN_MS=300000

# ┌──────────────────────────────────────────────────────────────────────────┐
# │                    🚀 PRODUCTION OPTIMIZATIONS                            │
# └──────────────────────────────────────────────────────────────────────────┘
# High-Performance Redis Configuration
# HIGHLY RECOMMENDED for production (100k-500k users)
# Provides 100x faster update deduplication and user caching

# Redis Cloud Configuration (Development)
#REDIS_URL=redis://default:P1QJKdywljPNN9vZSRA4eA0iws4ftLPM@redis-11317.c9.us-east-1-2.ec2.redns.redis-cloud.com:11317
#REDIS_HOST=redis-11317.c9.us-east-1-2.ec2.redns.redis-cloud.com
#REDIS_PORT=11317
#REDIS_PASSWORD=P1QJKdywljPNN9vZSRA4eA0iws4ftLPM
#REDIS_USERNAME=default

# self hos vps
REDIS_URL=redis://:feRz3ez5opqx3aYu@5.189.150.248:6379
REDIS_HOST=5.189.150.248
REDIS_PORT=6379
REDIS_PASSWORD=feRz3ez5opqx3aYu


# User Cache Configuration - OPTIMIZED FOR MILLIONS
# LRU cache for frequently accessed users (80-90% hit rate)
# Reduces database load by 80-90%
USER_CACHE_SIZE=500000             # Max users to cache (500k = ~1GB RAM) - 10x increase
USER_CACHE_TTL_MS=600000           # Cache TTL: 10 minutes (600000ms) - increased for stability

# Webhook Processing Configuration
# Timeout protection for webhook processing
WEBHOOK_RESPONSE_TIMEOUT_MS=25000  # Max time for update processing (25 seconds)

# Referral System Batch Processing
# Improves referral bonus performance under high load
ENABLE_REFERRAL_BATCHING=true
REFERRAL_BATCH_SIZE=50
REFERRAL_BATCH_INTERVAL_MS=100